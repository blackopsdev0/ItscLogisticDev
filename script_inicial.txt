
/**
Creacion de la BD con el usuario maestro, ROOT
**/

CREATE DATABASE ITSC_DATA;
USE ITSC_DATA;
CREATE USER 'ITSC_DATA'@'localhost' IDENTIFIED BY 'itsc_data';
GRANT ALL PRIVILEGES ON ITSC_DATA.* TO 'ITSC_DATA'@'localhost' WITH GRANT OPTION;
FLUSH PRIVILEGES;

/**
Se crea el usuario para la aplicacion web.
**/
CREATE USER 'ITSC_OPER'@'localhost' IDENTIFIED BY 'itsc_oper';
GRANT DELETE,INSERT,SELECT,UPDATE ON ITSC_DATA.* TO 'ITSC_OPER'@'localhost' ;
FLUSH PRIVILEGES;

-------------------------------------------------------

CREATE TABLE ITSC_DATA.CAT_ROL (
ROL_ID INT(19) NOT NULL AUTO_INCREMENT , 
ROL_DESCRIPCION VARCHAR(50)   NOT NULL , 
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (ROL_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_ACTOR (
ACTOR_ID INT(19) NOT NULL AUTO_INCREMENT , 
ACTOR_DESCRIPCION VARCHAR(100)   NOT NULL , 
ACTOR_VIG_INIC DATE NOT NULL,
ACTOR_VIG_FIN DATE NOT NULL,
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (ACTOR_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_ACTOR_ROL (
ACTOR_ROL_ID INT(19) NOT NULL AUTO_INCREMENT , 
ACTOR_ID INT(19) NOT NULL  , 
ROL_ID INT(19) NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (ACTOR_ROL_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;
alter table ITSC_DATA.CAT_ACTOR_ROL add foreign key(ACTOR_ID) references ITSC_DATA.CAT_ACTOR (ACTOR_ID);
alter table ITSC_DATA.CAT_ACTOR_ROL add foreign key(ROL_ID) references ITSC_DATA.CAT_ROL (ROL_ID);

CREATE TABLE ITSC_DATA.CAT_ESTADO_VIAJE (
ESTADO_ID INT(19) NOT NULL AUTO_INCREMENT , 
ESTADO_DESC VARCHAR(100)   NOT NULL , 
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (ESTADO_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_RESP_INCID (
RESPINCID_ID INT(19) NOT NULL AUTO_INCREMENT , 
RESPINCID_DESC VARCHAR(100)   NOT NULL , 
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (RESPINCID_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_TIPO_INCID (
INCIDENCIA_ID INT(19) NOT NULL AUTO_INCREMENT , 
INCIDENCIA_DESC VARCHAR(100)   NOT NULL , 
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (INCIDENCIA_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_TIPO_VIAJE(
TIPVIAJE_ID INT(19) NOT NULL AUTO_INCREMENT , 
TIPVIAJE_DESC VARCHAR(100)   NOT NULL , 
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (TIPVIAJE_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_TIPO_CARG_DESC (
TIPCD_ID INT(19) NOT NULL AUTO_INCREMENT , 
TIPCD_DESC VARCHAR(100)   NOT NULL , 
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (TIPCD_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_TIPO_TARIFA (
TARIFA_TIPO_ID INT(19) NOT NULL AUTO_INCREMENT , 
TARIFA_TIPO_DESC VARCHAR(100)   NOT NULL , 
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (TARIFA_TIPO_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_CONCEPT_TARIFA (
CONTARIFA_ID INT(19) NOT NULL AUTO_INCREMENT , 
CONTARIFA_DESC VARCHAR(100)   NOT NULL , 
CONTARIFA_MAN_COD INT(19) NOT NULL,
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (CONTARIFA_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_TARIFA (
TARIFA_ID INT(19) NOT NULL AUTO_INCREMENT , 
TARIFA_TIPO_ID INT(19) NOT NULL,
TARIFA_TIPO_DESC VARCHAR(100)   NOT NULL , 
CONTRCTE_ID VARCHAR(100)   NOT NULL , 
TARIFA_CRIT_DESDE VARCHAR(40)   NOT NULL , 
TARIFA_CRIT_HASTA VARCHAR(40)   NOT NULL , 
TARIFA_VIG_DESDE DATE NOT NULL,
TARIFA_VIG_HASTA DATE NOT NULL,
TARIFA_PRECIO DECIMAL(15,4),
TARIFA_MIN_ASEG DECIMAL(15,4),
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (TARIFA_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;
alter table ITSC_DATA.CAT_TARIFA add foreign key(TARIFA_TIPO_ID) references ITSC_DATA.CAT_TIPO_TARIFA (TARIFA_TIPO_ID);

CREATE TABLE ITSC_DATA.CAT_CHOFER (
CHOFER_ID INT(19) NOT NULL AUTO_INCREMENT , 
CHOFER_NOMBRE VARCHAR(40)   NOT NULL , 
CHOFER_APELLIDOS VARCHAR(40)   NOT NULL , 
CHOFER_LICENCIA_NUM VARCHAR(20)   NOT NULL , 
CHOFER_LICEN_VENCI DATE NOT NULL,
CHOFER_SALDO_ANTC DECIMAL(15,2),
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (CHOFER_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_TIPO_CLIENTE(
CLIENTE_TIPO_ID INT(19) NOT NULL AUTO_INCREMENT , 
CLIENTE_TIPO_DESC VARCHAR(100)   NOT NULL , 
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (CLIENTE_TIPO_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_CLIENTE(
CLIENTE_ID INT(19) NOT NULL AUTO_INCREMENT , 
CLIENTE_RAZON_SOC VARCHAR(100)   NOT NULL , 
CLIENTE_CALLE VARCHAR(40)   NOT NULL , 
CLIENTE_NUMERO VARCHAR(5)   NOT NULL , 
CLIENTE_INTERIOR VARCHAR(5)   NOT NULL , 
CLIENTE_COLONIA VARCHAR(40)   NOT NULL , 
CLIENTE_DELEGACION VARCHAR(40)   NOT NULL , 
CLIENTE_ESTADO VARCHAR(20)   NOT NULL , 
CLIENTE_CP VARCHAR(5)   NOT NULL , 
CLIENTE_PAIS VARCHAR(20)   NOT NULL , 
CLIENTE_TIPO_ID INT(19) NOT NULL,
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (CLIENTE_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;
alter table ITSC_DATA.CAT_CLIENTE add foreign key(CLIENTE_TIPO_ID) references ITSC_DATA.CAT_TIPO_CLIENTE (CLIENTE_TIPO_ID);

CREATE TABLE ITSC_DATA.CAT_CLIENTE_CONTRATO(
CONTR_CTE_ID INT(19) NOT NULL AUTO_INCREMENT , 
CLIENTE_ID INT(19) NOT NULL , 
CONTR_CTE_VIG_DESDE DATE NOT NULL,
CONTR_CTE_VIG_HASTA DATE NOT NULL,
CONTR_CTE_DOC VARCHAR(100)   NOT NULL ,
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (CONTR_CTE_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;
alter table ITSC_DATA.CAT_CLIENTE_CONTRATO add foreign key(CLIENTE_ID) references ITSC_DATA.CAT_CLIENTE (CLIENTE_ID);

CREATE TABLE ITSC_DATA.CAT_PROVEEDOR(
PROVEEDOR_ID INT(19) NOT NULL AUTO_INCREMENT , 
PROVEEDOR_RAZON_SOC VARCHAR(40)   NOT NULL , 
PROVEEDOR_CALLE VARCHAR(40)   NOT NULL , 
PROVEEDOR_NUMERO VARCHAR(5)   NOT NULL , 
PROVEEDOR_INTERIOR VARCHAR(5)   NOT NULL , 
PROVEEDOR_COLONIA VARCHAR(40)   NOT NULL , 
PROVEEDOR_DELEGACION VARCHAR(40)   NOT NULL , 
PROVEEDOR_ESTADO VARCHAR(20)   NOT NULL , 
PROVEEDOR_CP VARCHAR(5)   NOT NULL , 
PROVEEDOR_PAIS VARCHAR(20)   NOT NULL , 
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (PROVEEDOR_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_CONTRAT_PROVEEDOR (
CONTR_PRO_ID INT(19) NOT NULL AUTO_INCREMENT , 
CONTR_PRO_DESC VARCHAR(100)   NOT NULL , 
PROVEEDOR_ID INT(19) NOT NULL,
CONTR_PRO_VIG_DESDE DATE NOT NULL,
CONTR_PRO_VIG_HASTA DATE NOT NULL,
CONTR_PRO_DOC VARCHAR(100)  NOT NULL,
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (CONTR_PRO_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;
alter table ITSC_DATA.CAT_CONTRAT_PROVEEDOR add foreign key(PROVEEDOR_ID) references ITSC_DATA.CAT_PROVEEDOR (PROVEEDOR_ID);

CREATE TABLE ITSC_DATA.CAT_TIPO_CAMION (
TIPO_CAMION_ID INT(19) NOT NULL AUTO_INCREMENT , 
TIPO_CAMION_DESC VARCHAR(30)   NOT NULL , 
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (TIPO_CAMION_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_LOTE_CAMION (
LOTE_CAMION_ID INT(19) NOT NULL AUTO_INCREMENT , 
LOTE_CAMION_DESC VARCHAR(30)   NOT NULL , 
TIPO_CAMION_ID INT(19) NOT NULL ,
CAMION_PLACAS VARCHAR(10)   NOT NULL , 
CAMION_CAPACIDAD DEC(15,4)   NOT NULL , 
CAMION_UM_CAP VARCHAR(10)   NOT NULL , 
CAMION_PERM_SICULA VARCHAR(1)   NOT NULL , 
CAMION_PERM_FECH_FIN DATE NOT NULL,
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (LOTE_CAMION_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;
alter table ITSC_DATA.CAT_LOTE_CAMION add foreign key(TIPO_CAMION_ID) references ITSC_DATA.CAT_TIPO_CAMION (TIPO_CAMION_ID);

CREATE TABLE ITSC_DATA.TRAN_VIAJE_HEADER(
VIJES_H_FOLIO_ID INT(19) NOT NULL AUTO_INCREMENT , 
ESTADO_ID INT(19) NOT NULL , 
VIAJE_H_SOLICITANTE  VARCHAR(100)   NOT NULL , 
VIAJE_H_AUTORIZADOR  VARCHAR(100)   NOT NULL , 
VIAJE_H_AUTORIZADOR_GERENTE  VARCHAR(100)   NOT NULL , 
VIAJE_H_FECHA_SOLICITUD DATE NOT NULL,
VIAJE_H_HORA_SOLICITUD TIME NOT NULL,
VIAJE_H_FECHA_AUTORIZACION_JEFE DATE NOT NULL,
VIAJE_H_HORA_AUTORIZACION_JEFE TIME NOT NULL,
VIAJE_H_FECHA_AUTORIZACION_GERENTE DATE NOT NULL,
VIAJE_H_HORA_AUTORIZACION_GERENTE TIME NOT NULL,
VIAJE_H_TOTAL_A_FACTURAR DEC(15,4)   NOT NULL , 
VIAJE_H_TOTAL_A_PAGAR DEC(15,4)   NOT NULL , 
VIAJE_H_FECHA_RETORNO_PDO DATE NOT NULL,	
VIAJE_H_HORA_RETORNO_PDO TIME NOT NULL,	
VIAJE_H_FECHA_ENTREGA_FILE DATE NOT NULL,
VIAJE_H_HORA_ENTREGA_FILE TIME NOT NULL,	
VIAJE_H_FECHA_FACTURACION DATE NOT NULL,	
VIAJE_H_HORA_FACTURACION TIME NOT NULL,
VIAJE_H_NUMERO_DE_FACTURA  VARCHAR(15)   NOT NULL , 
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (VIJES_H_FOLIO_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;
alter table ITSC_DATA.TRAN_VIAJE_HEADER add foreign key(ESTADO_ID) references ITSC_DATA.CAT_ESTADO_VIAJE (ESTADO_ID);
-----------------------------------------------------

CREATE TABLE ITSC_DATA.CAT_PERMISOS (
PERMISO_ID INT(19) NOT NULL AUTO_INCREMENT , 
PERMISO_NOMBRE VARCHAR(100)   NOT NULL , 
PERMISO_DESCRIPCION VARCHAR(100)   NOT NULL , 
PERMISO_FORM INT(1)   NOT NULL , 
PERMISO_STATUS_FLAG INT(2)    NOT NULL , 
PERMISO_LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (PERMISO_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_PANTALLAS (
PANTALLA_ID INT(19) NOT NULL AUTO_INCREMENT , 
PANTALLA_NOMBRE VARCHAR(100)   NOT NULL , 
PANTALLA_DESCRIPCION VARCHAR(100)   NOT NULL , 
PANTALLA_STATUS_FLAG INT(2)    NOT NULL , 
PANTALLA_LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (PANTALLA_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;

CREATE TABLE ITSC_DATA.CAT_PANT_DETALLE (
PANT_DET_ID INT(19) NOT NULL AUTO_INCREMENT ,
PANTALLA_ID INT(19) NOT NULL,
PANT_DET_NOMBRE VARCHAR(100)   NOT NULL , 
PANT_DET_URL VARCHAR(100)   NOT NULL , 
PANT_DET_STATUS_FLAG INT(2)    NOT NULL , 
PANT_DET_LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (PANT_DET_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;
alter table ITSC_DATA.CAT_PANT_DETALLE add foreign key(PANTALLA_ID) references ITSC_DATA.CAT_PANTALLAS (PANTALLA_ID);

CREATE TABLE ITSC_DATA.CAT_PERM_ROL (
PERM_ROL_ID INT(19) NOT NULL AUTO_INCREMENT ,
ROL_ID INT(19) NOT NULL,
PERMISO_ID INT(19) NOT NULL,
PERM_ROL_NOMBRE VARCHAR(100)   NOT NULL , 
PERM_ROL_STATUS_FLAG INT(2)    NOT NULL , 
PERM_ROL_LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (PERM_ROL_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;
alter table ITSC_DATA.CAT_PERM_ROL add foreign key(ROL_ID) references ITSC_DATA.CAT_ROL (ROL_ID);
alter table ITSC_DATA.CAT_PERM_ROL add foreign key(PERMISO_ID) references ITSC_DATA.CAT_PERMISOS (PERMISO_ID);

CREATE TABLE ITSC_DATA.TRAN_VIAJE_CAMION (
VIAJES_H_FOLIO_ID INT(19) NOT NULL AUTO_INCREMENT ,
VIAJES_C_ITEM INT(3)    NOT NULL , 
VIAJES_C_NRO_EMBARQUE VARCHAR(10)   NOT NULL , 
TIPO_CAMION_ID INT(19) NOT NULL ,
CLIENTE_SOL_ID INT(19) NOT NULL,
VIAJES_C_CANTIDAD_A_RETIRAR DEC(15,4)   NOT NULL , 
VIAJES_C_UM VARCHAR(10)   NOT NULL , 
VIAJES_C_VOLUMETRIA_DE_CARGA DEC(15,4)   NOT NULL , 
CLIENTE_ENTR_ID INT(19) NOT NULL,
PROVEEDOR_ID INT(19) NOT NULL ,
VIAJES_C_REFERENCIA VARCHAR(40)   NOT NULL , 
VIAJES_C_FECHA_CARGA_PLAN DATE NOT NULL,
VIAJES_C_HORA_CARGA_PLAN TIME NOT NULL,
VIAJES_C_TIPO_CARGA VARCHAR(2)   NOT NULL , 
VIAJES_C_FECHA_DESCARGA_PLAN DATE NOT NULL,
VIAJES_C_HORA_DESCARGA_PLAN TIME NOT NULL,
TIPCD_ID INT(19) NOT NULL,
TIPVIAJE_ID INT(19) NOT NULL, 
VIAJES_C_FECHA_LLEGADA_CARGA DATE NOT NULL,
VIAJES_C_HORA_LLEGADA_CARGA TIME NOT NULL,
CHOFER_ID INT(19) NOT NULL , 
LOTE_CAMION_ID INT(19) NOT NULL , 
VIAJES_C_ANTICIPO DEC(15,2)   NOT NULL , 
VIAJES_C_CORTINA VARCHAR(5)   NOT NULL , 
VIAJES_C_FECHA_SALIDA_CARGA DATE NOT NULL,
VIAJES_C_HORA_SALIDA_CARGA TIME NOT NULL,
VIAJES_C_FECHA_LLEGADA_DESCARGA DATE NOT NULL,
VIAJES_C_HORA_LLEGADA_DESCARGA TIME NOT NULL,
VIAJES_C_FECHA_SALIDA_DESCARGA DATE NOT NULL,
VIAJES_C_HORA_SALIDA_DESCARGA TIME NOT NULL,
VIAJES_C_ODOMETRO_INICIAL INT(6)    NOT NULL , 
VIAJES_C_ODOMETRO_FINAL INT(6)    NOT NULL , 
VIAJES_C_KM_RECORRIDOS INT(6)    NOT NULL , 
VIAJES_C_PRECINTO VARCHAR(10)   NOT NULL , 
INCIDENCIA_ID INT(19) NOT NULL , 
RESPINCID_ID INT(19) NOT NULL  , 
VIAJES_C_COMPROBACION  DEC(15,2)   NOT NULL , 
VIAJES_C_FECHA_GENERACION_EVIDENCIAS DATE NOT NULL,
VIAJES_C_HORA_GENERACION_EVIDENCIAS TIME NOT NULL,
VIAJES_C_EVIDENCIA VARCHAR(200)   NOT NULL , 
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (VIAJES_H_FOLIO_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;
alter table ITSC_DATA.TRAN_VIAJE_CAMION add foreign key(TIPO_CAMION_ID) references ITSC_DATA.CAT_TIPO_CAMION (TIPO_CAMION_ID);
alter table ITSC_DATA.TRAN_VIAJE_CAMION add foreign key(CLIENTE_SOL_ID) references ITSC_DATA.CAT_CLIENTE (CLIENTE_ID);
alter table ITSC_DATA.TRAN_VIAJE_CAMION add foreign key(CLIENTE_ENTR_ID) references ITSC_DATA.CAT_CLIENTE (CLIENTE_ID);
alter table ITSC_DATA.TRAN_VIAJE_CAMION add foreign key(PROVEEDOR_ID) references ITSC_DATA.CAT_PROVEEDOR (PROVEEDOR_ID);
alter table ITSC_DATA.TRAN_VIAJE_CAMION add foreign key(TIPCD_ID) references ITSC_DATA.CAT_TIPO_CARG_DESC (TIPCD_ID);
alter table ITSC_DATA.TRAN_VIAJE_CAMION add foreign key(TIPVIAJE_ID) references ITSC_DATA.CAT_TIPO_VIAJE (TIPVIAJE_ID);
alter table ITSC_DATA.TRAN_VIAJE_CAMION add foreign key(CHOFER_ID) references ITSC_DATA.CAT_CHOFER (CHOFER_ID);
alter table ITSC_DATA.TRAN_VIAJE_CAMION add foreign key(LOTE_CAMION_ID) references ITSC_DATA.CAT_LOTE_CAMION (LOTE_CAMION_ID);
alter table ITSC_DATA.TRAN_VIAJE_CAMION add foreign key(INCIDENCIA_ID) references ITSC_DATA.CAT_TIPO_INCID (INCIDENCIA_ID);
alter table ITSC_DATA.TRAN_VIAJE_CAMION add foreign key(RESPINCID_ID) references ITSC_DATA.CAT_RESP_INCID (RESPINCID_ID);

CREATE TABLE ITSC_DATA.TRAN_VIAJE_TARIF_CLIENTE (
VIAJES_CL_H_FOLIO_ID INT(19) NOT NULL AUTO_INCREMENT ,
VIAJES_C_ITEM INT(3)    NOT NULL , 
VIAJES_TC_ITEM INT(3)    NOT NULL , 
TARIFA_ID INT(19) NOT NULL,
CONTARIFA_ID INT(19) NOT NULL,
VIAJES_TC_CANTIDAD INT(3) NOT NULL,
VIAJES_TC_PRECIO DEC(15,4)   NOT NULL , 
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (VIAJES_CL_H_FOLIO_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;
alter table ITSC_DATA.TRAN_VIAJE_TARIF_CLIENTE add foreign key(TARIFA_ID) references ITSC_DATA.CAT_TARIFA (TARIFA_ID);
alter table ITSC_DATA.TRAN_VIAJE_TARIF_CLIENTE add foreign key(CONTARIFA_ID) references ITSC_DATA.CAT_CONCEPT_TARIFA (CONTARIFA_ID);

CREATE TABLE ITSC_DATA.TRAN_VIAJE_TARIF_PROVEEDOR (
VIAJES_PV_H_FOLIO_ID INT(19) NOT NULL AUTO_INCREMENT ,
VIAJES_C_ITEM INT(3)    NOT NULL , 
VIAJES_TP_ITEM INT(3)    NOT NULL , 
TARIFA_ID INT(19) NOT NULL,
CONTARIFA_ID INT(19) NOT NULL,
VIAJES_TP_CANTIDAD INT(3)    NOT NULL , 
VIAJES_TP_PRECIO DEC(15,4) NOT NULL,
STATUS_FLAG INT(2)    NOT NULL , 
LAST_UPDATE_DT TIMESTAMP NOT NULL default '0000-00-00 00:00:00', 
LAST_UPDATE_USER VARCHAR(50)   ,
PRIMARY KEY (VIAJES_PV_H_FOLIO_ID)
) ENGINE=INNODB AUTO_INCREMENT=1000 DEFAULT CHARSET=latin1;
alter table ITSC_DATA.TRAN_VIAJE_TARIF_PROVEEDOR add foreign key(TARIFA_ID) references ITSC_DATA.CAT_TARIFA (TARIFA_ID);
alter table ITSC_DATA.TRAN_VIAJE_TARIF_PROVEEDOR add foreign key(CONTARIFA_ID) references ITSC_DATA.CAT_CONCEPT_TARIFA (CONTARIFA_ID);

/*
DROP DATABASE ITSC_DATA;
DROP USER 'ITSC_DATA'@'localhost';
set foreign_key_checks=0;
DROP TABLE  ITSC_DATA.CAT_ROLES;
DROP TABLE  ITSC_DATA.CAT_ACTORES ;
DROP TABLE  ITSC_DATA.CAT_ACTORES_ROLES ;
DROP TABLE  ITSC_DATA.CAT_TIPO_CAMION ;
DROP TABLE  ITSC_DATA.CAT_LOTE_CAMION ;
DROP TABLE  ITSC_DATA.CAT_CHOFERES; 

DROP TABLE  ITSC_DATA.CAT_TARIFAS ;
DROP TABLE  ITSC_DATA.CAT_TIPO_TARIFA ;
DROP TABLE  ITSC_DATA.CAT_CONCEPT_TARIFA ;
DROP TABLE  ITSC_DATA.CAT_TIPO_CARG_DESC ;

DROP TABLE  ITSC_DATA.CAT_TIPO_VIAJE ;
DROP TABLE  ITSC_DATA.CAT_TIPO_INCIDENCIA;
DROP TABLE  ITSC_DATA.CAT_RESP_INCIDENCIA ;
DROP TABLE  ITSC_DATA.CAT_ESTADO_VIAJE ;
DROP TABLE  ITSC_DATA.CAT_ESTADO_VIAJE ;

DROP TABLE  ITSC_DATA.CAT_TIPO_CLIENTE ;
DROP TABLE  ITSC_DATA.CAT_CLIENTES ;
DROP TABLE  ITSC_DATA.CAT_CLIENTE_CONTRATO;

DROP TABLE  ITSC_DATA.TRAN_VIAJES_HEADER;
DROP TABLE  ITSC_DATA.TRAN_VIAJES_CAMION;

set foreign_key_checks=1;
*/